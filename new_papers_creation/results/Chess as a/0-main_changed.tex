\pdfoutput=1

\def\year{2022}\relax
\documentclass[letterpaper]{article} %
\usepackage{aaai22}  %
\usepackage{times}  %
\usepackage{helvet}  %
\usepackage{courier}  %
\usepackage[hyphens]{url}  %
\usepackage{graphicx} %
\urlstyle{rm} %
\def\UrlFont{\rm}  %
\usepackage{natbib}  %
\usepackage{caption} %
\DeclareCaptionStyle{ruled}{labelfont=normalfont,labelsep=colon,strut=off} %
\frenchspacing  %
\setlength{\pdfpagewidth}{8.5in}  %
\setlength{\pdfpageheight}{11in}  %
\usepackage{algorithm}
\usepackage{algorithmic}


\usepackage[inline]{enumitem}
\usepackage{xcolor}
\usepackage{subcaption}
\usepackage{booktabs}
\usepackage{xspace}
\usepackage{multirow}

\usepackage[activate={true,nocompatibility}, kerning=true,spacing=true, stretch=10,shrink=5]{microtype}
\microtypecontext{spacing=nonfrench}
\usepackage{newfloat}
\usepackage{listings}
\lstset{%
	basicstyle={\footnotesize\ttfamily},%
	numbers=left,numberstyle=\footnotesize,xleftmargin=2em,%
	aboveskip=0pt,belowskip=0pt,%
	showstringspaces=false,tabsize=2,breaklines=true}
\floatstyle{ruled}
\newfloat{listing}{tb}{lst}{}
\floatname{listing}{Listing}

\definecolor{dkgreen}{rgb}{0,0.6,0}

\newenvironment{itemizesquish}{\begin{list}{\setcounter{enumi}{0}\labelitemi}{\setlength{\itemsep}{-0.25em}\setlength{\labelwidth}{0.5em}\setlength{\leftmargin}{\labelwidth}\addtolength{\leftmargin}{\labelsep}}}{\end{list}}

\newenvironment{enumeratesquish}{\begin{list}{\addtocounter{enumi}{1}\labelenumi}{\setlength{\itemsep}{0em}\setlength{\labelwidth}{0.5em}\setlength{\leftmargin}{\labelwidth}\addtolength{\leftmargin}{\labelsep}}}{\end{list}\setcounter{enumi}{0}}


\newcommand*\pct{\scalebox{.8}{\%}}
\newcommand{\pos}[1]{\texttt{#1}}
\newcommand{\reals}{\mathbb{R}}
\newcommand{\legalmove}{LgM\xspace}
\newcommand{\exactmove}{ExM\xspace}
\newcommand{\piecetype}{AP\xspace}




\setcounter{secnumdepth}{2}

\title{Chess as a Testbed for Language Model State Tracking}

\author{
Shubham Toshniwal\textsuperscript{\rm 1},
Sam Wiseman\textsuperscript{\rm 2},
Karen Livescu\textsuperscript{\rm 1},
Kevin Gimpel\textsuperscript{\rm 1}
}

 \affiliations{

    \textsuperscript{\rm 1}Toyota Technological Institute at Chicago\\
    \textsuperscript{\rm 2}Duke University\\
    \texttt
    {\{shtoshni, klivescu, kgimpel\}@ttic.edu, swiseman@cs.duke.edu}
}



\begin{document}

\maketitle

\begin{abstract}
Transformer language models have made tremendous strides in natural language understanding tasks.
However, the complexity of natural language makes it challenging
to ascertain how accurately these models are tracking the world state underlying the text.
Motivated by this issue, we consider the task of language modeling for the game of chess.
Unlike natural language, chess notations describe a simple, constrained, and deterministic domain.
Moreover, we observe that the appropriate choice of chess notation allows for directly probing the world state, without requiring any additional probing-related machinery.
We find that:
\begin{enumerate*}[label=(\alph*)]
	\item With enough training data, transformer language models can learn to track pieces and predict legal moves with high accuracy when trained solely on move sequences.
	\item %
	For small training sets %
	providing access to board state information during training can yield significant improvements.
	\item The success of transformer language models is dependent on access to the entire game history i.e.\ ``full attention". Approximating this full attention results in a significant performance drop.
\end{enumerate*}
	We propose this testbed as a benchmark for future work on the development and analysis of transformer language models.
\end{abstract}


\input{1-intro}
\input{2-chess_preliminaries}
\input{3-board_probe}
\input{4-evaluation}
\input{5-results}
\input{7-related_work}
\input{conclusion}

\section*{Acknowledgements}

We thank Ed Schr\"{o}der for permitting us to use the Millionbase database for this project.
We thank Allyson Ettinger and colleagues at TTI Chicago for their valuable feedback.
This material is based upon work supported by the National Science Foundation under
Award No. 1941178.

Magni consequatur debitis architecto natus mollitia molestias rerum vel porro expedita explicabo, ipsum minima nemo reprehenderit tenetur sit exercitationem id?Molestiae voluptatibus veniam asperiores voluptatem amet itaque minima doloremque sint, ipsam similique nemo excepturi pariatur sed, exercitationem pariatur voluptatibus illum quia inventore neque libero.Maiores rem excepturi adipisci assumenda et eos unde facere quis, voluptatem est veniam explicabo asperiores iusto mollitia incidunt, perferendis necessitatibus delectus harum at cum natus laborum modi reprehenderit.Quibusdam quod porro, non quasi excepturi rem placeat commodi perspiciatis unde repellat?Magni accusantium omnis autem iusto animi dolores dolorum eligendi,
\bibliography{0-main}



\end{document}