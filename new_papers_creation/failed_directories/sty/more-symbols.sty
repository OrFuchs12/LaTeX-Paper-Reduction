

\RequirePackage{bm} 
%------------------------%
% Commands for nd-feasible
%------------------------%

\newcommand*{\sQ}{{\bm Q}}
\newcommand*{\sq}{{\bm q}}
\newcommand*{\sW}{{\bm W}}
\newcommand*{\sw}{{\bm w}}
\newcommand*{\sF}{{\bm F}}
\renewcommand*{\sf}{{\bm f}}
\newcommand*{\sV}{{\bm V}}
\newcommand*{\sv}{{\bm v}}
\newcommand*{\sD}{{\bm D}}
\newcommand*{\sd}{{\bm d}}
\newcommand*{\sS}{{\bm S}}
\renewcommand*{\ss}{{\bm s}}
\newcommand*{\sN}{{\bm N}}
\newcommand*{\sn}{{\bm n}}
\newcommand*{\sX}{{\bm X}}
\newcommand*{\sx}{{\bm x}}
\newcommand*{\sY}{{\bm Y}}
\newcommand*{\sy}{{\bm y}}
\newcommand*{\sZ}{{\bm Z}}
\newcommand*{\sz}{{\bm z}}
\newcommand*{\sO}{{\bm O}}
\newcommand*{\so}{{\bm o}}
\newcommand*{\sC}{{\bm C}}
\renewcommand*{\sc}{{\bm c}}

\newcommand*{\seps}{\bm{\varepsilon}}
\newcommand*{\Eps}{\mathcal{E}}
\newcommand*{\sEps}{\bm{\Eps}}

\newcommand*{\calG}{{\mathcal{G}}}
\newcommand*{\calU}{{\mathcal{U}}}
\newcommand*{\calV}{{\mathcal{V}}}
\newcommand*{\calM}{{\mathcal{M}}}
\newcommand*{\sG}{\calG}
\newcommand*{\sM}{\calM}
\newcommand*{\sE}{{E}}

\newcommand*{\graph}{{\mathcal{G}}}
\newcommand*{\scim}{{\mathcal{M}}}
%\newcommand*{\calS}{{\mathcal{S}}}

%\NewDocumentCommand\localvalue{O{\pi_i}O{\spi_{-1}}}{ V^{#1,#2}}

\newcommand*{\su}{{\bm u}}
\newcommand*{\sU}{{\bm U}}
\newcommand*{\ssU}{\bm{\mathcal{U}}}
\newcommand*{\Umax}{U_\mathrm{max}}

\newcommand*{\totutilvar}{\mathcal{U}}
\newcommand*{\ssX}{\bm{\mathcal{X}}}
\newcommand*{\ssY}{\bm{\mathcal{Y}}}

%\newcommand*{\spi}{{\bm{\pi}}}
\newcommand*{\spi}{{\pi}}
\newcommand*{\sPi}{{\Pi}}

\newcommand*{\cX}{\sc^{\sX}}
\newcommand*{\CX}{\sC^{\sX}}


\newcommand*{\cg}[1][]{(\sW#1, E #1)}
\newcommand*{\cm}[1][]{(\sW#1, E#1, P#1)}
\newcommand*{\envg}[1][]{(\sW#1, E#1, \sD#1, \sU#1)}
\newcommand*{\envm}[1][]{(\sW#1, E#1, \sD#1, \sU#1, P#1)}
\newcommand*{\envgsa}[1][]{(\sW#1, E#1, \{A\}, \sU#1)}
\newcommand*{\envmsa}[1][]{(\sW#1, E#1, \{A\}, \sU#1, P#1)}

\newcommand{\envgm}{(\sW, E,\sD, \ssU)}
\newcommand{\envmm}{(\sW, E,\sD, \ssU, P)}

\newcommand{\Ereq}{E_{\mathrm{requisite}}}
\newcommand{\Einc}{E_{\mathrm{incentive}}}
\newcommand{\adde}{\textrm{ADD-EDGES}}
\newcommand{\reme}{\textrm{REMOVE-EDGES}}

\newcommand{\utilsum}{\mathcal{U}}
\newcommand{\bool}{\mathbb{B}}

\newcommand{\snone}{\mathrm{None}}
\newcommand{\IntsectNode}[1]{K^{#1}}

%\newtheorem{lemma}[theorem]{Lemma}

\newcommand*{\Ch}{\textbf{Ch}}      % child variables
\newcommand*{\Anc}{\textbf{Anc}}    % ancestor variables
\newcommand*{\Desc}{\textbf{Desc}}  % descendant variables
\newcommand*{\supp}{\text{supp}}

\newcommand{\Do}{\doo}


\newcommand{\pirandom}{\pi^{\textrm{random}}}
\newcommand{\spirandom}{\spi^{\textrm{random}}}

\newcommand*{\scmdef}{\langle \sEps, \sV, \sF, P \rangle}
\newcommand*{\scimdef}{\left\langle \calG, \bm{\mathcal{E}}, \bm{F}, P \right\rangle}
\newcommand*{\sfsig}[1]{\dom(\Pa_{#1} \cup \{\mathcal{E}_{#1}\}) \to \dom({#1})}
\newcommand*{\setfor}[2]{\ensuremath{{\{{#1}\}}_{#2}}}


\let\Pr\relax
\DeclareMathOperator{\Pr}{P}
\newcommand*\diff{\mathop{}\!\mathrm{d}}












%====================================================
%   L E M M A   A N D    S U B L E M M A    N A M E S
%====================================================

% Normal form Tree
\newcommand{\noOverlappingQX}{no overlapping $X^s$, $Q^{\spred}$\xspace}
\newcommand{\systemsAndPathsUniqueness}{position-in-tree-uniqueness\xspace}
\newcommand{\systemsAndPathsUniquenessForDef}{\systemsAndPathsUniqueness}
% {position in tree uniqueness\xspace}

\newcommand{\normalFormLinksBetweenSystems}{normal form links between systems\xspace}
\newcommand{\noRedundantLinks}{no-redundant-links\xspace}
\newcommand{\appropriateness}{appropriatess\xspace}
\newcommand{\appropriate}{appropriate\xspace}
\newcommand{\oldAppropriateness}{backdoor-or-directed\xspace}
\newcommand{\newAppropriateness}{appropriateness\xspace}
\newcommand{\oldAppropriate}{backdoor-or-directed\xspace}
\newcommand{\newAppropriate}{appropriate\xspace}



% Knowledge Lemma

\newcommand{\graphKnowledgeLemmaName}{Subtree Independence\xspace}
\newcommand{\GraphKnowledgeLemmaName}{Subtree Independence\xspace}
\newcommand{\modelKnowledgeLemmaName}{Knowledge Lemma\xspace}


% Sufficient Recall
\newcommand{\sufficientRecall}{SR\xspace}
\newcommand{\withSR}{with SR\xspace}
\newcommand{\sufficientRecallInProof}{sufficient recall\xspace}

% Minimal d-reduction
\newcommand{\minimaldred}{minimal $d$-reduction\xspace}

%===================================================================
%   E N D    O F    L E M M A   A N D    S U B L E M M A    N A M E S
%====================================================================








%========================
% T A S K I F Y   S Y M B O L S
%========================
% F I R S T    T A S K I F Y    A D J U S T M E N T
\newcommand{\base}{[\color{red}\mathrm{pred}]}
\newcommand{\tbase}{{\color{red} pred}}
\newcommand{\primary}{{\color{red}\mathrm{primary}}}
\newcommand{\str}{{\color{red}\mathrm{str}}}

\newcommand{\Xbase}{X_\base}
\newcommand{\Dbase}{D_\base}



% S E C O N D   T A S K I F Y    A D J U S T M E N T
% \newcommand{\scopy}[]{\mathrm{copy}}

\newcommand{\sGoriginal}{\sG_{\mathrm{orig}}}
\newcommand{\sMoriginal}{M_{\mathrm{orig}}}
\newcommand{\Goriginal}{\sGoriginal}
\newcommand{\Moriginal}{\sMoriginal}
\newcommand{\bprime}{$\text{b}'$}

\newcommand{\ported}{\mathrm{ported}}
\newcommand{\sTaskify}{\mathrm{Taskify}}
\newcommand{\GTaskify}{\sG_{\sTaskify}}
\newcommand{\MTaskify}{\calM_{\sTaskify}}
\newcommand{\VTaskify}{\sV_{\sTaskify}}
\newcommand{\ETaskify}{E_{\sTaskify}}
\newcommand{\MTaskifyported}{\calM_{\sTaskify}^{\ported}}
\newcommand{\pitaskify}{\spi_{\sTaskify}}
\newcommand{\sTaskifySingle}{\sTaskify^{\mathrm{single}}}

\newcommand{\Gadded}{\sG_{\mathrm{added}}}
\newcommand{\Vadded}{\sV_{\mathrm{added}}}
\newcommand{\Uadded}{\sU_{\mathrm{added}}}
\newcommand{\Dadded}{\sD_{\mathrm{added}}}


\newcommand{\paoriginal}{\pa_{\mathrm{original}}}

\newcommand{\DTask}{\sD_{\mathrm{Task}}}
\newcommand{\piTask}{\pi_{\mathrm{Task}}}
\newcommand{\spiTask}{\pi_{\mathrm{Task}}}

\input{theorems/Taskify-sublemmas}

%========================
% E N D   O F   T A S K I F Y   S Y M B O L S
%========================























%========================
%   BASIC SYMBOLS
%========================

%====PATHS, SYSTEMS, GRAPHS, AND NODES
\newcommand{\ssystemexpanded}{\ensuremath{(\sprevsystem,(\shistory, \ensuremath{D_j}, \sinfo, 	\scontrol,\sobspaths))}}

\newcommand{\sinf}{\mathrm{inf}}
\newcommand{\scontr}{\mathrm{contr}}
\newcommand{\sinfo}{\mathrm{info}}
\newcommand{\sdirinfo}{\mathrm{dirinfo}}
\newcommand{\sundirinfo}{\mathrm{undirinfo}}
\newcommand{\scontrol}{\mathrm{control}}
\newcommand{\sobspaths}{\mathrm{obs}}
\newcommand{\sobsnodes}{\mathrm{obsnodes}}
\newcommand{\sinfolink}{\mathrm{infolink}}
% \newcommand{\shistory}{\mathrm{history}}
\newcommand{\spath}{p}%\mathrm{path}}
% \newcommand{\ssys}{{\mathrm{sys}}}
\newcommand{\ssystem}{\mathrm{system}}
\newcommand{\ssystemsmall}{\ensuremath{s}}
\newcommand{\sprevsystem}{\mathrm{prevsystem}}%{{\mathrm{system}^\mathrm{prev}}}
\newcommand{\snextsystem}{\mathrm{nextsystem}}%{{\mathrm{system}^\mathrm{prev}}}
\newcommand{\prevpath}{\mathrm{predpath}}%{{\mathrm{system}^\mathrm{prev}}}
\newcommand{\sprevsys}{\mathrm{prevsys}}
\newcommand{\ssystems}{\mathrm{systems}}
\newcommand{\ssysgraph}{{\mathcal G}}

\newcommand{\ssnext}{\snext}
\newcommand{\sDnext}{D_\mathrm{next}}
\newcommand{\sRoot}{\mathrm{root}}
\newcommand{\sbase}{\mathrm{base}}

\newcommand{\id}{\mathrm{id}}
\newcommand{\XORtext}{\mathrm{XOR}}
\newcommand{\scopy}{\mathrm{copy}}
\newcommand{\sapply}{\mathrm{apply}}
\newcommand{\srandom}{\mathrm{random}}

% \newcommand{\sNodes}{\mathrm{Nodes}}
% \newcommand{\sNodesminus}{\mathrm{Nodes}^-}

%\newcommand{\sorig}{\mathrm{orig}}
\newcommand{\sorig}{h}
\newcommand{\snew}{\mathrm{new}}


% \newcommand{\sLH}{{\log(|\dom(H_s)|)}}
% \newcommand{\sdomsizeH}{|\dom(H_s)|}









% ============================
% T R E E    S P L I T T I N G
% ============================
\newcommand*{\sHistnodesplit}[1]{H_{#1}}
\newcommand*{\sHistnode}[2]{H_{#1,#2}}

\newcommand{\NewNode}{\mathrm{New}}

\newcommand{\Gsplit}{\sG^4}
% \newcommand{\Gsplitunpruned}{\ensuremath{\sG_\ssplit}^\mathrm{unpruned}}
\newcommand{\Msplit}{M^4}
\newcommand{\Vsplit}{{\mathcal N}}
\newcommand{\ssplit}{\mathrm{split}}
\newcommand{\pisplit}{\pi_\ssplit}
\newcommand{\Pisplit}{\Pi_\ssplit}
\newcommand{\psplit}{p_\ssplit}
\newcommand{\Esplit}{\ensuremath{E_\ssplit}}
\newcommand{\Tsplit}{T^4}
\newcommand{\Xsplit}{\ensuremath{X_\ssplit}}
\newcommand{\Nsplit}{\ensuremath{\sN_\ssplit}}
\newcommand{\sNsplit}{\ensuremath{N_\ssplit}}
\newcommand{\Dsplit}{\ensuremath{D_\ssplit}}
\newcommand{\sTsplit}{\ensuremath{T_\mathrm{split'}}}
\newcommand{\Ssplit}{\mathcal{S}_\ssplit}
\newcommand{\sssplit}{s_\ssplit}
\newcommand{\ssyssplit}{\ensuremath{\ssys_\ssplit}}
\newcommand{\hsplit}{\sorig_\ssplit}


\newcommand{\spruned}{\mathrm{pruned}}
\newcommand{\Esplitunpruned}{\Esplit^\sunpruned}
\newcommand{\sunpruned}{\mathrm{unpruned}}


\newcommand{\sfirstsplit}{\mathrm{first-split}}
\newcommand{\Gfirstsplit}{\sG_\sfirstsplit}
\newcommand{\Vfirstsplit}{V_\sfirstsplit}
\newcommand{\Efirstsplit}{E_\sfirstsplit}
\newcommand{\Xfirstsplit}{X_\sfirstsplit}
\newcommand{\Nfirstsplit}{N_\sfirstsplit}
\newcommand{\Dfirstsplit}{D_\sfirstsplit}
\newcommand{\Tfirstsplit}{T_\sfirstsplit}
\newcommand{\Sfirstsplit}{\mathcal{S}_\sfirstsplit}
\newcommand{\ssfirstsplit}{s_\sfirstsplit}
% \newcommand{\hfirstsplit}{\sorig_\sfirstsplit}




\newcommand{\Gfirstsplitunpruned}{\Gfirstsplit^\sunpruned}
\newcommand{\Efirstsplitunpruned}{\Efirstsplit^\sunpruned}


\newcommand{\ssecondsplit}{\mathrm{second-split}}
\newcommand{\Gsecondsplit}{\sG_\ssecondsplit}
\newcommand{\Vsecondsplit}{V_\ssecondsplit}
\newcommand{\Esecondsplit}{E_\ssecondsplit}
\newcommand{\Xsecondsplit}{X_\ssecondsplit}
\newcommand{\Nsecondsplit}{N_\ssecondsplit}
\newcommand{\Dsecondsplit}{D_\ssecondsplit}
\newcommand{\Tsecondsplit}{T_\ssecondsplit}
\newcommand{\Ssecondsplit}{\mathcal{S}_\ssecondsplit}
\newcommand{\sssecondsplit}{s_\ssecondsplit}
% \newcommand{\hsecondsplit}{\sorig_\ssecondsplit}

\newcommand{\Gsecondsplitunpruned}{\Gsecondsplit^\sunpruned}
\newcommand{\Esecondsplitunpruned}{\Esecondsplit^\sunpruned}


%\newcommand{\firstsplitname}{\mathrm{spu}}
%\newcommand{\secondsplitname}{\mathrm{noQX}}
%\newcommand{\thirdsplitname}{\mathrm{nflbs}}
\newcommand{\firstsplitname}{1}
\newcommand{\secondsplitname}{2}
\newcommand{\thirdsplitname}{3}
\newcommand{\fourthsplitname}{4}
\newcommand{\fifthsplitname}{5}


\newcommand{\stransf}{\mathrm{transf}}
\newcommand{\splitfirst}{\stransf^{\firstsplitname}}
\newcommand{\splitsecond}{\stransf^{\secondsplitname}}
\newcommand{\splitthird}{\stransf^{\thirdsplitname}}
\newcommand{\splitfourth}{\stransf^{\fourthsplitname}}
\newcommand{\splitfifth}{\ssplit^{\fifthsplitname}}

\newcommand{\sGfive}{\sG^{\fifthsplitname}}

\newcommand{\hfirst}{\sorig^{0\gets 1}}
\newcommand{\hsecond}{\sorig^{1\gets 2}}
\newcommand{\hthird}{\sorig^{2\gets 3}}
\newcommand{\hfourth}{\sorig^{3\gets 4}}
\newcommand{\hfifth}{\sorig^{4\gets 5}}
\newcommand{\hfirsttolast}{\sorig^{0\gets 3}}
% ============================================
% E N D    O F    T R E E    S P L I T T I N G
% ============================================


















% =================================
% ====PATH REDUCTION ALGORITHMS====
% =================================
\newcommand{\sChooseTree}{\mathrm{Choose\_Tree}}
\newcommand{\sChooseModel}{\mathrm{Choose-Model}}

%\newcommand{\sLinknext}{\mathrm{Link}_\mathrm{next}}
\newcommand{\sLinknext}{\mathrm{NextLink}}

\newcommand{\sReduce}{\mathrm{Red}}
\newcommand{\sExtReduce}{\mathrm{EXTREDUCE}}
\newcommand{\sred}{\mathrm{Red}}
\newcommand{\sRed}{\mathrm{Red}}
\newcommand{\sTreeToBoD}{\mathrm{TreeToBoD}}
\newcommand{\sAppTree}{\mathrm{TreeToBoD}} %deprecated
\newcommand{\sRedAll}{\sAppTree} %deprecated
\newcommand{\sReduceChildren}{\mathrm{Red-ch}}
\newcommand{\sRedCh}{\mathrm{Red-ch}}
\newcommand{\sRedSubtree}{\mathrm{Red-subtree}}
\newcommand{\sRedNextSubtree}{\mathrm{Red-next-subtree}}
\newcommand{\sRedNext}{\mathrm{Red-next}}
\newcommand{\sRedLink}{\mathrm{Red-link}}
\newcommand{\sRedNextLink}[1]{\sRedLink_{\sLinknext(#1)}(#1)}
\newcommand{\sRedSystem}{\mathrm{Red-system}}

\newcommand{\subtree}[2]{\mathrm{sub}_{#1}(#2)}

\newcommand{\sreplace}{\mathrm{replace}}
\newcommand{\snext}{s^\mathrm{firstNonBoD}}
\newcommand{\sincomplete}{s^\mathrm{fincom}}

\newcommand{\sSysToBoD}{\mathrm{SysToBoD}}
\newcommand{\sAppSys}{\mathrm{SysToBoD}} %deprecated
\newcommand{\sdownward}{\mathrm{downward}}

\newcommand{\obsmin}{{p_{\text{min}}}}
\newcommand{\calS}{{\mathcal{S}}}
%\newcommand{\calT}{{\mathcal{T}}}


\newcommand{\sappropriate}{\mathrm{appropriate}}
\newcommand{\saddress}{{\text{address}}}


\newcommand{\ssRoot}{s^\mathrm{root}}

% \newcommand{\sReport}{\mathrm{Report}}
\newcommand*\xor{\oplus}
\newcommand{\Snew}{\calS_\snew}
%=================================
% END OF PATH REDUCTION ALGORITHMS
%=================================





%========================
% FUNCTION SYMBOLS
%========================
\newcommand{\sRootSys}[1]{\sRoot_{#1}}

% \newcommand{\snew}{\mathrm{new}}
%\newcommand*{\spred}{\mathrm{pred}}
\newcommand*{\spred}{\mathrm{pred}}
\newcommand*{\spredsys}{{\mathrm{predsys}}}
\newcommand*{\spredpath}{{\mathrm{predpath}}}
\newcommand*{\spredlink}{{\mathrm{predlink}}}

\newcommand*{\sprednew}{\spred_\snew}
\newcommand*{\spredsysnew}{\spredsys_\snew}
\newcommand*{\spredpathnew}{\spredpath_\snew}
%\newcommand*{\sprednew}{\spred_\snew}
%\newcommand*{\spredsysnew}{\spredsys_\snew}
%\newcommand*{\spredpathnew}{\spredpath_\snew}

% \newcommand*{\sPred}[1]{\spred_{#1}}
% \newcommand*{\sPredsys}[1]{\spredsys_{#1}}
% \newcommand*{\sPredpath}[1]{\spredpath_{#1}}
\newcommand*{\pred}[1]{\spred(#1)}
\newcommand*{\predsys}[1]{\spredsys(#1)}
\newcommand*{\predpath}[1]{\spredpath(#1)}

\newcommand*{\prednew}[1]{\sprednew(#1)}
\newcommand*{\predsysnew}[1]{\spredsysnew({#1})}
\newcommand*{\predpathnew}[1]{\spredpathnew({#1})}

\newcommand*{\sSys}[1]{\ssys_{#1}}

\newcommand*{\sComb}[2]{C_{#1,#2}}%combiner node
\newcommand*{\sQue}[1]{Q_{#1}}%question node
\newcommand*{\sXnode}[1]{X_{#1}}%question node
\newcommand*{\sHnode}[2]{H_{#1,#2}}%history node

\newcommand*{\sHistory}[2]{H_{#1,#2}}%history node

\newcommand{\sXroot}{X^\sRoot}
\newcommand{\sDroot}{D^\sRoot}

\newcommand*{\srootsys}{\mathrm{root}}
\newcommand{\rootsys}[1]{\srootsys(#1)}

\newcommand*{\sssplitroot}{\sssplit^\sRoot}


%========================
% END OF FUNCTION SYMBOLS
%========================

































%========================
% ARCHIVE COMMANDS
%========================
\newcommand{\schoosepaths}{\textbf{choose}}

\newcommand{\sDecInSys}[2]{#1 \textnormal{\textbf{ in }} #2 }
\newcommand{\sLinkInSys}[3]{(#1 \textnormal{\textbf{ on }} #2\textnormal{\textbf{ in }} #3 )}
\newcommand{\sLinkInSysStandard}[1]{\sLinkInSys{X_#1\to D_#1}{p_#1}{s_#1}}