\section{Setup}\label{sec:setup}





\ryan{Or ``
all of the results transfer to a regular influence diagram setting.
footnote: 
the only difference is that if edges do not match the direction of
causation, then a node may be deemed valuable to control, when controlling
it is not in-fact useful \citep[Appendix A]{everitt2021}
''}

Limited memory influence diagrams (also called LIMIDs) are graphical models containing 
decision and utility nodes, used to model decision-making problems \citep{Howard1966,nilsson2000evaluating}.


\input{definitions/cid.tex}
Since all of the influence diagram graphs in this paper have limited memory, 
we will consistently refer to them simply as \emph{influence diagram} (ID) graphs.
We denote the parents, descendants,\chris{And ancestors?} and family of a node $V \in \sV$
as $\Pa(V),\Desc(V)$, and $\Fa(V)=\Pa(V) \cup \{V\}$.
For $Y \in \sV$, \chris{Remove "For $Y \in \sV$,"?} we denote an edge by $V \to Y$, 
and a directed path 
by $V \pathto Y$.






To specify the precise statistical relationships, rather than just their structure, 
we will use a model that attaches probability distributions to the variables 
in an ID graph.

\input{definitions/cim.tex}

The decision-making task is to maximize the sum of expected utilities by selecting a CPD $\pi^D(D | \Pa(D))$,
called a \emph{decision rule}, 
for each decision $D \in \sD$. 
A \emph{policy} $\spi=\{\pi^D\}_{D \in \sD}$ consists of one decision rule for each decision.
Once the policy is specified, 
this induces joint probability distribution $P^\calM_\spi$ over all the variables.
We denote expectations by $\EE^\calM_\spi$ and omit the superscript 
when clear from context.
A policy $\spi$ is called \emph{optimal} if it
maximises $\EE_{\spi}[\totutilvar]$, where
$\totutilvar \coloneqq \sum_{U \in \sU}{U}$.
~\looseness=-1 %
Throughout this paper, we use subscripts for
policies, 
and superscripts for indexing.
A lowercase $v \in \dom(V)$ denotes an outcome of $V$.

Some past work has assumed ``no-forgetting'', meaning that every decision $d$ 
is allowed to depend on the value $v$ of any past decision $D'$ or 
its observations $\Pa(D')$, even when that variable $V \in \Fa(D')$ is not a parent of the current decision ($V \not \in \Pa(D)$) \citep{shachter1986evaluating}.
In contrast, we follow the more flexible convention of limited memory IDs \citep{nilsson2000evaluating}, 
by explicitly indicating whether a decision $d$ can depend on the value of an observation or decision $v$ 
by the presence (or absence) of an edge $V \to D$, just as we would do with any variable
that is not associated with a past decision.


Within the space of limited memory IDs, this paper focuses on \emph{soluble} IDs \citep{nilsson2000evaluating}, 
also known as IDs with ``sufficient recall'' \citep{Milch2008}.
The solubility assumption requires that 
it is always possible to choose an optimal decision rule without knowing what decision rules were followed by past decisions.
The formal definition uses $d$-separation.~\looseness=-1


\input{definitions/d-separation}







\begin{definition}[Solubility; \citet{nilsson2000evaluating}]
  For an ID graph $\calG$ 
  let the \emph{mapping extension} $\calG'$ be 
  a modified version of $\calG$ where a chance node parent $\Pi^i$ is added to each decision $D^i$.
  Then $\calG$ is 
  \emph{soluble} if there exists an ordering $D^1, \dots, D^n$ over the decisions, such that in the mapping extension $\calG'$, for all $i$:~\looseness=-1 
  \[
    \sPi^{<i} \dsep \sU(D^i) \mid \Fa(D^i)
  \]
  where $\sPi^{<i}:=\{\Pi^j\mid j < i\}$ and
  $\sU(D^i) := \sU\cap\Desc(D^i)$.
\end{definition}

We will subsequently only consider ID graphs that are soluble.
Solubility is entailed by the popular more restrictive ``no forgetting'' assumption, where
the decision-maker remembers previous decisions and observations \citep{shachter1986evaluating,Shachter2016}:
in no forgetting, 
the family $\Fa(D^i)$ includes $\Fa(D^j)$ for $j<i$, so every policy node $\Pi^j$ is $d$-separated from $\sV \setminus \Fa(D^j) \supseteq \sU \cap \Desc^{D^j}$.
However, solubility is more general, for example \cref{fig:no-voi-graph} is soluble, even though past decisions are forgotten.











