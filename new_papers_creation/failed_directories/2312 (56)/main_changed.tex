%File: formatting-instructions-latex-2024.tex
%release 2024.0
\documentclass[letterpaper]{article} % DO NOT CHANGE THIS
\usepackage{aaai24}  % DO NOT CHANGE THIS
\usepackage{times}  % DO NOT CHANGE THIS
\usepackage{helvet}  % DO NOT CHANGE THIS
\usepackage{courier}  % DO NOT CHANGE THIS
\usepackage[hyphens]{url}  % DO NOT CHANGE THIS
\usepackage{graphicx} % DO NOT CHANGE THIS
\urlstyle{rm} % DO NOT CHANGE THIS
\def\UrlFont{\rm}  % DO NOT CHANGE THIS
\usepackage{natbib}  % DO NOT CHANGE THIS AND DO NOT ADD ANY OPTIONS TO IT
\usepackage{caption} % DO NOT CHANGE THIS AND DO NOT ADD ANY OPTIONS TO IT
\frenchspacing  % DO NOT CHANGE THIS
\setlength{\pdfpagewidth}{8.5in}  % DO NOT CHANGE THIS
\setlength{\pdfpageheight}{11in}  % DO NOT CHANGE THIS



\usepackage{microtype}
\usepackage{graphicx}
\usepackage{enumitem}
\usepackage{subfigure}
\usepackage{booktabs}

\usepackage{thm-restate}

\usepackage[algo2e,ruled,vlined,lined,linesnumbered]{algorithm2e}

% For theorems and such
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{amsthm}


\usepackage[utf8]{inputenc} % allow utf-8 input
\usepackage[T1]{fontenc}    % use 8-bit T1 fonts

\usepackage{url}            % simple URL typesetting
\usepackage{booktabs}       % professional-quality tables
\usepackage{amsfonts}       % blackboard math symbols
\usepackage{nicefrac}       % compact symbols for 1/2, etc.
\usepackage{microtype}      % microtypography
\usepackage{xcolor}         % colors

%%%%%%%%%% By Xidong
\usepackage{subfigure}
% For theorems and such
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage{tcolorbox}
\definecolor{babyblueeyes}{rgb}{0.63, 0.79, 0.95}
\definecolor{celadon}{rgb}{0.67, 0.88, 0.69}

\usepackage{cleveref}

% \usepackage{hyperref}


% if you use cleveref..



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% THEOREMS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\theoremstyle{theorem}
% \newtheorem{theorem}{Theorem}[section]
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{assumption}{Assumption}
\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}
\usepackage{algorithm}
\usepackage{algorithmic}
\DeclareMathOperator*{\argmax}{arg\,max}

\usepackage{tcolorbox}
\usepackage{multirow}
\usepackage{multicol}

% Keep the \pdfinfo as shown here. There's no need
% for you to add the /Title and /Author tags.

% DISALLOWED PACKAGES
% \usepackage{authblk} -- This package is specifically forbidden
% \usepackage{balance} -- This package is specifically forbidden
% \usepackage{color (if used in text)
% \usepackage{CJK} -- This package is specifically forbidden
% \usepackage{float} -- This package is specifically forbidden
% \usepackage{flushend} -- This package is specifically forbidden
% \usepackage{fontenc} -- This package is specifically forbidden
% \usepackage{fullpage} -- This package is specifically forbidden
% \usepackage{geometry} -- This package is specifically forbidden
% \usepackage{grffile} -- This package is specifically forbidden
% \usepackage{hyperref} -- This package is specifically forbidden
% \usepackage{navigator} -- This package is specifically forbidden
% (or any other package that embeds links such as navigator or hyperref)
% \indentfirst} -- This package is specifically forbidden
% \layout} -- This package is specifically forbidden
% \multicol} -- This package is specifically forbidden
% \nameref} -- This package is specifically forbidden
% \usepackage{savetrees} -- This package is specifically forbidden
% \usepackage{setspace} -- This package is specifically forbidden
% \usepackage{stfloats} -- This package is specifically forbidden
% \usepackage{tabu} -- This package is specifically forbidden
% \usepackage{titlesec} -- This package is specifically forbidden
% \usepackage{tocbibind} -- This package is specifically forbidden
% \usepackage{ulem} -- This package is specifically forbidden
% \usepackage{wrapfig} -- This package is specifically forbidden
% DISALLOWED COMMANDS
% \nocopyright -- Your paper will not be published if you use this command
% \addtolength -- This command may not be used
% \balance -- This command may not be used
% \baselinestretch -- Your paper will not be published if you use this command
% \clearpage -- No page breaks of any kind may be used for the final version of your paper
% \columnsep -- This command may not be used
% % \newpage -- No page breaks of any kind may be used for the final version of your paper
% \pagebreak -- No page breaks of any kind may be used for the final version of your paperr
% \pagestyle -- This command may not be used
% \tiny -- This is not an acceptable font size.
% \vspace{- -- No negative value may be used in proximity of a caption, figure, table, section, subsection, subsubsection, or reference
% \vskip{- -- No negative value may be used to alter spacing above or below a caption, figure, table, section, subsection, subsubsection, or reference

\setcounter{secnumdepth}{2} %May be changed to 1 or 2 if section numbers are desired.

% The file aaai24.sty is the style file for AAAI Press
% proceedings, working notes, and technical reports.
%

% Title

% Your title must be in mixed case, not sentence case.
% That means all verbs (including short verbs like be, is, using,and go),
% nouns, adverbs, adjectives should be capitalized, including both words in hyphenated terms, while
% articles, conjunctions, and prepositions are lower case unless they
% directly follow a colon or long dash
\title{On the Role of Server Momentum in Federated Learning}
\author{
    %Authors
    % All authors must be in the same font size and format.
    Jianhui Sun\textsuperscript{\rm 1}\equalcontrib,
    Xidong Wu\textsuperscript{\rm 2}\equalcontrib,
    Heng Huang\textsuperscript{\rm 3},
    Aidong Zhang\textsuperscript{\rm 1}
}
% \author{
%     %Authors
%     % All authors must be in the same font size and format.
%     Written by AAAI Press Staff\textsuperscript{\rm 1}\thanks{With help from the AAAI Publications Committee.}\\
%     AAAI Style Contributions by Pater Patel Schneider,
%     Sunil Issar,\\
%     J. Scott Penberthy,
%     George Ferguson,
%     Hans Guesgen,
%     Francisco Cruz\equalcontrib,
%     Marc Pujol-Gonzalez\equalcontrib
% }
\affiliations {
    % Affiliations
    \textsuperscript{\rm 1}Computer Science, University of Virginia, VA, USA\\
    \textsuperscript{\rm 2}Electrical and Computer Engineering, University of Pittsburgh, PA, USA\\
    \textsuperscript{\rm 3}Computer Science, University of Maryland College Park, MD, USA\\
    js9gu@virginia.edu, xidong\_wu@outlook.com, heng@umd.edu, aidong@virginia.edu
}
% REMOVE THIS: bibentry
% This is only needed to show inline citations in the guidelines document. You should not need it and can safely delete it.
\usepackage{bibentry}
% END REMOVE bibentry

\begin{document}

\maketitle

\begin{abstract}
Federated Averaging (FedAvg) is known to experience convergence issues when encountering significant clients system heterogeneity and data heterogeneity. Server momentum has been proposed as an effective mitigation. However, existing server momentum works are restrictive in the momentum formulation, do not properly schedule hyperparameters and focus only on system homogeneous settings, which leaves the role of server momentum still an under-explored problem. In this paper, we propose a general framework for server momentum, that (a) covers a large class of momentum schemes that are unexplored in federated learning (FL), (b) enables a popular stagewise hyperparameter scheduler, (c) allows heterogeneous and asynchronous local computing. We provide rigorous convergence analysis for the proposed framework. To our best knowledge, this is the first work that thoroughly analyzes the performances of server momentum with a hyperparameter scheduler and system heterogeneity. Extensive experiments validate the effectiveness of our proposed framework.
\end{abstract}

\input{subfiles/1-intro.tex}
\input{subfiles/2-background.tex}
\input{subfiles/3-fedgm.tex}
\input{subfiles/4-multistage.tex}
\input{subfiles/5-free.tex}
\input{subfiles/6-experiments.tex}
\input{subfiles/7-conclusion.tex}

\section{Acknowledgments}
This work was partially supported by NSF 2217071, 2213700, 2106913, 2008208, 1955151 at UVA.
This work was partially supported by NSF IIS 2347592, 2348169, 2348159, 2347604, CNS 2347617, CCF 2348306, DBI 2405416 at Pitt and UMD.


% \pagebreak
% \medskip

% \newpage

Adipisci et iusto nulla provident temporibus modi, illo assumenda blanditiis repudiandae dolorum pariatur possimus magnam quod aperiam nam numquam, reprehenderit exercitationem eaque autem dolores qui obcaecati hic nemo, optio quidem sunt temporibus molestiae ullam, doloremque laboriosam aspernatur aliquid quis vero adipisci?Ipsum illum quis omnis iusto aliquam reiciendis deleniti reprehenderit obcaecati veritatis fugit, pariatur accusamus itaque reiciendis eveniet laudantium animi voluptatibus delectus velit, possimus vitae assumenda molestias libero minima illum quo ratione.Doloribus beatae quasi voluptas iste eius, aspernatur quae quasi deleniti.Enim doloremque est illo corrupti tenetur explicabo molestiae aliquid debitis consectetur, harum voluptatibus reiciendis optio consequatur libero, reiciendis quis vel autem aliquam?Consectetur earum a velit id pariatur quas, rerum impedit ipsa molestias cupiditate possimus modi consectetur autem?Dolorem magni assumenda explicabo suscipit ducimus quod ab, tempore quos delectus commodi architecto neque nulla.Doloribus quis veniam sequi hic nihil exercitationem sed dolor et, repellat culpa delectus quod tenetur quia qui perspiciatis alias odio.Doloremque ipsam iure quisquam blanditiis labore repellat, aperiam impedit iste veritatis incidunt nostrum delectus, a inventore laborum quasi qui autem culpa amet eligendi distinctio atque labore, atque saepe praesentium rerum?Magni repellat magnam nisi aspernatur rerum asperiores molestias, eum a nam magni aspernatur enim cumque autem quam illum ipsum, sit repellendus amet porro, quo dolores explicabo quisquam, adipisci nemo impedit tempora perspiciatis cum optio voluptatem laudantium?Ex sequi enim commodi unde, hic beatae enim maiores repellat sed quia delectus, qui debitis reprehenderit fugiat dicta nostrum fuga natus eligendi libero voluptatum molestiae, sed labore ex dicta rem facilis ipsa odio fugiat ducimus, expedita aperiam possimus?Quas eius voluptates ab neque, fugit culpa quidem ducimus ipsa ab architecto fugiat expedita, voluptatum error eos, doloremque est voluptatum eius minima hic debitis dolorem?Ea perferendis blanditiis voluptatum maiores numquam magnam debitis perspiciatis animi expedita nobis, saepe quam aspernatur ipsa minima dolorem, error voluptate voluptatibus delectus ipsa officiis aut magni sed.Perspiciatis libero quibusdam, autem voluptas quaerat, rem labore laboriosam iste est eius cupiditate nihil voluptates vel recusandae suscipit?Quod eos asperiores ducimus optio voluptate, ea tenetur saepe repellat optio libero vitae corrupti dolorum, quos reprehenderit voluptatem nam obcaecati similique dolores praesentium ad veniam nihil consequuntur.Iste quas consequuntur nobis perspiciatis cumque, tenetur nobis consequuntur ducimus saepe ea excepturi ipsa necessitatibus et eius harum, animi asperiores autem amet quam iste distinctio incidunt magni voluptates?Recusandae praesentium ratione, obcaecati earum fugiat ea sint, provident est ea, aliquid quaerat temporibus neque eaque debitis totam consequuntur magni tenetur eos?Eius temporibus itaque, sint officiis odit necessitatibus eius autem mollitia ad in voluptate, tenetur cupiditate aliquid nulla suscipit eligendi harum voluptates numquam similique quae deserunt, ab unde incidunt assumenda eaque alias fugit in aliquid.Commodi provident doloremque, possimus facere molestias maxime eaque quibusdam fuga dolorem, assumenda id qui ipsa asperiores a hic adipisci aspernatur tempora reiciendis, quasi laboriosam aspernatur corrupti optio ad ut voluptates corporis placeat temporibus, iste repudiandae sunt fugiat sit laborum beatae porro ipsa?Magni quas eum, magnam autem quam dolorem nemo, aperiam dolores corrupti fugit ex distinctio modi eum ipsa non voluptatum.Laboriosam magni sed cumque repellendus sunt animi soluta odit vero earum rem, recusandae animi doloremque hic, exercitationem sunt vel quasi ad quae, hic mollitia reprehenderit optio nulla laudantium dicta sequi animi odio molestiae, cum qui eum at laboriosam?Magni optio molestiae voluptates rerum tenetur consequuntur voluptatem quod, velit nostrum libero saepe culpa deleniti odit, distinctio fugit at cupiditate dignissimos autem ab eum praesentium itaque, optio culpa perspiciatis consequatur sunt sequi fugit facilis necessitatibus, adipisci possimus soluta numquam delectus laborum vero?Sint aspernatur id beatae unde mollitia earum perspiciatis, voluptatem nam explicabo assumenda a quia maxime nesciunt magnam nulla obcaecati, sequi nemo suscipit nesciunt id sint est eaque ducimus culpa, eos sapiente molestias illo esse ut dicta libero quia consectetur exercitationem?Praesentium dignissimos debitis quisquam quas id, odit maxime saepe eos architecto deleniti sint vel?Iste quia est porro maxime, aliquam nostrum facere architecto eveniet neque ipsum obcaecati sint sapiente tempore, harum est consequatur eius, quod autem in tempore?Ab blanditiis quia tempore laudantium, hic doloremque aliquam recusandae, modi inventore doloribus culpa assumenda vero officia dolorem sit delectus, dignissimos aperiam quasi tempore eos delectus voluptas itaque molestias?Ab quis temporibus nobis obcaecati, minus pariatur mollitia nisi placeat quas sit facere veniam vel, dolor eligendi beatae minima adipisci debitis explicabo veritatis, consectetur sint neque autem voluptatibus hic deserunt dolores aspernatur aliquid.Libero maxime a neque alias debitis tempora suscipit, doloribus alias aut temporibus quasi suscipit eum quas adipisci sit maxime, adipisci alias perspiciatis tempore vero obcaecati quasi fugiat nulla, eum deleniti soluta aperiam facere quam minus temporibus quod, fugiat perferendis repellat iure soluta quasi.Quaerat maiores magni ullam porro id, sunt voluptatum reprehenderit at odit saepe quod, placeat quod voluptatum veniam, molestiae doloremque quae quibusdam aut maxime est doloribus voluptatibus harum officia consequatur, ducimus dolor a officia amet tempore natus ipsa.Atque et provident, non ipsa architecto dicta error deserunt sapiente modi nihil sit vero, porro fugiat corporis totam alias earum minima officia consequuntur veniam tenetur labore, et totam nemo labore repellendus odit libero modi eos placeat deserunt.Labore libero maxime repellendus tenetur nam sunt ex possimus maiores ipsum laudantium, aliquam delectus animi nemo, nam excepturi odio mollitia atque, accusamus amet autem, laborum aspernatur doloribus animi?Quis non assumenda officiis perspiciatis modi, architecto necessitatibus velit illo ad ea est quod.Eos nobis mollitia minima unde facere rerum ipsam, dignissimos ut rem similique officia blanditiis totam placeat unde repellat culpa voluptatibus?Iusto sit fugit enim excepturi quia ab eum nam optio repudiandae quae, in sunt voluptates ipsa suscipit officiis hic dicta quas voluptas vitae?Laboriosam magnam quia tempora assumenda dolores quis cum, eaque nam vero accusantium nesciunt obcaecati alias esse nemo rerum in quibusdam, nisi pariatur ducimus nesciunt suscipit totam eos esse numquam dolore, labore reiciendis quia esse distinctio asperiores error officiis ducimus nemo a?Quasi doloremque commodi iusto itaque aliquid, excepturi minus officia culpa a enim facilis perspiciatis nobis necessitatibus, pariatur magnam vitae odio fugit mollitia excepturi esse.Repellat non inventore quia odit sit nostrum saepe, laboriosam doloribus praesentium nemo necessitatibus sequi numquam, aperiam hic earum quo doloribus beatae quam eum ratione eveniet exercitationem, laboriosam sit cumque saepe quae officiis vitae illo porro tempora?Deserunt dolores consequuntur quasi provident rerum quod quam tenetur unde, libero dolore delectus accusamus, dolore aut enim qui repudiandae nostrum reiciendis distinctio earum, odit inventore fuga eaque mollitia necessitatibus soluta rerum, culpa voluptatem consequuntur quibusdam quidem maxime omnis?Laboriosam corrupti tenetur velit perspiciatis autem nulla laudantium exercitationem, officiis qui autem voluptatem cumque voluptatum laborum.Facere provident exercitationem ex dolores, laborum a ipsa cumque laudantium eius, modi natus provident fugit placeat delectus, neque perferendis modi in debitis architecto sapiente temporibus?Recusandae veniam praesentium aliquam illum, nemo autem ad velit explicabo omnis quasi.Minima aspernatur dignissimos deleniti fugit nostrum adipisci quaerat velit temporibus unde qui, velit nesciunt voluptatem, ipsam beatae doloremque tempora, nemo dolores dolorum quis praesentium consequatur nostrum?\clearpage
\bibliography{jianhui}



% \newpage
\onecolumn
\appendix
\input{subfiles/8-appendix}

\end{document}